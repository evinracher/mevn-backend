(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["notes"],{"0841":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("h1",[t._v("Notes")]),n("b-alert",{attrs:{show:t.dismissCountDown,dismissible:"",variant:t.message.color},on:{dismissed:function(e){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.message.text)+" ")]),t.editing?n("form",{on:{submit:function(e){return e.preventDefault(),t.editNote(e)}}},[n("h4",[t._v("Edit note")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.note.name,expression:"note.name"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Name"},domProps:{value:t.note.name},on:{input:function(e){e.target.composing||t.$set(t.note,"name",e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.note.description,expression:"note.description"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Description"},domProps:{value:t.note.description},on:{input:function(e){e.target.composing||t.$set(t.note,"description",e.target.value)}}}),n("b-button",{staticClass:"mx-2",on:{click:function(e){return e.preventDefault(),t.deactiveEditForm(e)}}},[t._v("Cancelar")]),n("b-button",{staticClass:"btn-info",attrs:{type:"submit"}},[t._v("Save")])],1):n("form",{on:{submit:function(e){return e.preventDefault(),t.addNote(e)}}},[n("h4",[t._v("New note")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.note.name,expression:"note.name"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Name"},domProps:{value:t.note.name},on:{input:function(e){e.target.composing||t.$set(t.note,"name",e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.note.description,expression:"note.description"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Description"},domProps:{value:t.note.description},on:{input:function(e){e.target.composing||t.$set(t.note,"description",e.target.value)}}}),n("b-button",{staticClass:"btn-success my-2 btn-block",attrs:{type:"submit"}},[t._v("Add")])],1),n("table",{staticClass:"table mt-5"},[t._m(0),n("tbody",t._l(t.notes,(function(e){return n("tr",{key:e.id},[n("th",{attrs:{scope:"row"}},[t._v(t._s(e._id))]),n("td",[t._v(t._s(e.name))]),n("td",[t._v(t._s(e.description))]),n("td",[n("b-button",{staticClass:"btn-sm btn-danger",on:{click:function(n){return t.deleteNote(e._id)}}},[t._v(" Delete ")]),n("b-button",{staticClass:"btn-sm btn-warning mx-2",on:{click:function(n){return t.activeEditForm(e._id)}}},[t._v(" Edit ")])],1)])})),0)])],1)},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",{attrs:{scope:"col"}},[t._v("#")]),n("th",{attrs:{scope:"col"}},[t._v("Name")]),n("th",{attrs:{scope:"col"}},[t._v("Description")]),n("th",{attrs:{scope:"col"}},[t._v("Actions")])])])}],r=(n("4de4"),n("d81d"),n("b0c0"),{data:function(){return{notes:[],note:{name:"",description:""},message:{color:"success",text:""},dismissSecs:5,dismissCountDown:0,editing:!1}},created:function(){this.listNotes()},methods:{listNotes:function(){var t=this;this.axios.get("/notes").then((function(e){t.notes=e.data})).catch((function(t){var e=t.response;return console.error(e)}))},addNote:function(){var t=this;console.log("sending"),this.axios.post("/notes",this.note).then((function(e){t.notes.push(e.data),t.note={name:"",description:""},t.message.text="Note added",t.message.color="success",t.showAlert()})).catch((function(e){var n=e.response;n.data.error.errors.name.message?t.message.text=n.data.error.errors.name.message:t.message.text="Error system",t.message.color="danger",t.showAlert(),console.error(n)}))},deleteNote:function(t){var e=this;console.log(t),this.axios.delete("/notes/"+t).then((function(n){console.log(n),e.notes=e.notes.filter((function(e){return e._id!=t})),e.note={name:"",description:""},e.message.text="Note deleted",e.message.color="warning",e.showAlert()})).catch((function(t){var n,o=t.response;null!==(n=o.data.error)&&void 0!==n&&n.errors.name.message?e.message.text=o.data.error.errors.name.message:e.message.text="Error system",e.message.color="danger",e.showAlert(),console.error(o)}))},activeEditForm:function(t){var e=this;this.editing=!0,this.axios.get("/notes/"+t).then((function(t){e.note=t.data})).catch((function(t){var e=t.response;return console.error(e)}))},deactiveEditForm:function(){this.editing=!1,this.note={name:"",description:""}},editNote:function(){var t=this,e=this.note;this.axios.put("/notes/"+e._id,e).then((function(n){t.notes=t.notes.map((function(t){return t._id===e._id?e:t})),t.note={name:"",description:""},t.editing=!1,t.message.text="Note edited",t.message.color="success",t.showAlert()})).catch((function(e){var n=e.response;n.data.error.errors.name.message?t.message.text=n.data.error.errors.name.message:t.message.text="Error system",t.message.color="danger",t.showAlert(),console.error(n)}))},countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(){this.dismissCountDown=this.dismissSecs}}}),i=r,a=n("2877"),c=Object(a["a"])(i,o,s,!1,null,null,null);e["default"]=c.exports},"1dde":function(t,e,n){var o=n("d039"),s=n("b622"),r=n("2d00"),i=s("species");t.exports=function(t){return r>=51||!o((function(){var e=[],n=e.constructor={};return n[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"4de4":function(t,e,n){"use strict";var o=n("23e7"),s=n("b727").filter,r=n("1dde"),i=n("ae40"),a=r("filter"),c=i("filter");o({target:"Array",proto:!0,forced:!a||!c},{filter:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},"65f0":function(t,e,n){var o=n("861d"),s=n("e8b5"),r=n("b622"),i=r("species");t.exports=function(t,e){var n;return s(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!s(n.prototype)?o(n)&&(n=n[i],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},ae40:function(t,e,n){var o=n("83ab"),s=n("d039"),r=n("5135"),i=Object.defineProperty,a={},c=function(t){throw t};t.exports=function(t,e){if(r(a,t))return a[t];e||(e={});var n=[][t],u=!!r(e,"ACCESSORS")&&e.ACCESSORS,d=r(e,0)?e[0]:c,l=r(e,1)?e[1]:void 0;return a[t]=!!n&&!s((function(){if(u&&!o)return!0;var t={length:-1};u?i(t,1,{enumerable:!0,get:c}):t[1]=1,n.call(t,d,l)}))}},b0c0:function(t,e,n){var o=n("83ab"),s=n("9bf2").f,r=Function.prototype,i=r.toString,a=/^\s*function ([^ (]*)/,c="name";o&&!(c in r)&&s(r,c,{configurable:!0,get:function(){try{return i.call(this).match(a)[1]}catch(t){return""}}})},b727:function(t,e,n){var o=n("0366"),s=n("44ad"),r=n("7b0b"),i=n("50c4"),a=n("65f0"),c=[].push,u=function(t){var e=1==t,n=2==t,u=3==t,d=4==t,l=6==t,m=7==t,f=5==t||l;return function(p,v,h,g){for(var b,w,x=r(p),_=s(x),y=o(v,h,3),C=i(_.length),N=0,A=g||a,D=e?A(p,C):n||m?A(p,0):void 0;C>N;N++)if((f||N in _)&&(b=_[N],w=y(b,N,x),t))if(e)D[N]=w;else if(w)switch(t){case 3:return!0;case 5:return b;case 6:return N;case 2:c.call(D,b)}else switch(t){case 4:return!1;case 7:c.call(D,b)}return l?-1:u||d?d:D}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterOut:u(7)}},d81d:function(t,e,n){"use strict";var o=n("23e7"),s=n("b727").map,r=n("1dde"),i=n("ae40"),a=r("map"),c=i("map");o({target:"Array",proto:!0,forced:!a||!c},{map:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(t,e,n){var o=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==o(t)}}}]);
//# sourceMappingURL=notes.b623b338.js.map