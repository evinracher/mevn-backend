(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["notes"],{"0841":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container pt-4"},[n("b-alert",{attrs:{show:t.dismissCountDown,dismissible:"",variant:t.message.color},on:{dismissed:function(e){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.message.text)+" ")]),t.editing?n("form",{on:{submit:function(e){return e.preventDefault(),t.editNote(e)}}},[n("h4",[t._v("Edit note")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.note.name,expression:"note.name"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Name"},domProps:{value:t.note.name},on:{input:function(e){e.target.composing||t.$set(t.note,"name",e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.note.description,expression:"note.description"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Description"},domProps:{value:t.note.description},on:{input:function(e){e.target.composing||t.$set(t.note,"description",e.target.value)}}}),n("b-button",{staticClass:"mx-2",on:{click:function(e){return e.preventDefault(),t.deactiveEditForm(e)}}},[t._v("Cancelar")]),n("b-button",{staticClass:"btn-info",attrs:{type:"submit"}},[t._v("Save")])],1):n("form",{on:{submit:function(e){return e.preventDefault(),t.addNote(e)}}},[n("h4",[t._v("New note")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.note.name,expression:"note.name"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Name"},domProps:{value:t.note.name},on:{input:function(e){e.target.composing||t.$set(t.note,"name",e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.note.description,expression:"note.description"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Description"},domProps:{value:t.note.description},on:{input:function(e){e.target.composing||t.$set(t.note,"description",e.target.value)}}}),n("b-button",{staticClass:"btn-success my-2 btn-block",attrs:{type:"submit"}},[t._v("Add")])],1),n("table",{staticClass:"table mt-5"},[t._m(0),n("tbody",t._l(t.notes,(function(e){return n("tr",{key:e.id},[n("th",{attrs:{scope:"row"}},[t._v(t._s(e._id))]),n("td",[t._v(t._s(e.name))]),n("td",[t._v(t._s(e.description))]),n("td",[n("b-button",{staticClass:"btn-sm btn-danger",on:{click:function(n){return t.deleteNote(e._id)}}},[t._v(" Delete ")]),n("b-button",{staticClass:"btn-sm btn-warning mx-2",on:{click:function(n){return t.activeEditForm(e._id)}}},[t._v(" Edit ")])],1)])})),0)])],1)},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",{attrs:{scope:"col"}},[t._v("#")]),n("th",{attrs:{scope:"col"}},[t._v("Name")]),n("th",{attrs:{scope:"col"}},[t._v("Description")]),n("th",{attrs:{scope:"col"}},[t._v("Actions")])])])}],r=(n("4de4"),n("d81d"),n("b0c0"),n("5530")),i=n("2f62"),a={data:function(){return{notes:[],note:{name:"",description:""},message:{color:"success",text:""},dismissSecs:5,dismissCountDown:0,editing:!1}},computed:Object(r["a"])({},Object(i["d"])(["token"])),created:function(){this.listNotes()},methods:{listNotes:function(){var t=this,e={headers:{token:this.token}};this.axios.get("/notes",e).then((function(e){t.notes=e.data})).catch((function(t){var e=t.response;return console.error(e)}))},addNote:function(){var t=this,e={headers:{token:this.token}};this.axios.post("/notes",this.note,e).then((function(e){t.notes.push(e.data),t.note={name:"",description:""},t.message.text="Note added",t.message.color="success",t.showAlert()})).catch((function(e){var n=e.response;n.data.error.errors.name.message?t.message.text=n.data.error.errors.name.message:t.message.text="Error system",t.message.color="danger",t.showAlert(),console.error(n)}))},deleteNote:function(t){var e=this,n={headers:{token:this.token}};this.axios.delete("/notes/"+t,n).then((function(n){e.notes=e.notes.filter((function(e){return e._id!=t})),e.note={name:"",description:""},e.message.text="Note deleted",e.message.color="warning",e.showAlert()})).catch((function(t){var n,s=t.response;null!==(n=s.data.error)&&void 0!==n&&n.errors.name.message?e.message.text=s.data.error.errors.name.message:e.message.text="Error system",e.message.color="danger",e.showAlert(),console.error(s)}))},activeEditForm:function(t){var e=this;this.editing=!0;var n={headers:{token:this.token}};this.axios.get("/notes/"+t,n).then((function(t){e.note=t.data})).catch((function(t){var e=t.response;return console.error(e)}))},deactiveEditForm:function(){this.editing=!1,this.note={name:"",description:""}},editNote:function(){var t=this,e={headers:{token:this.token}},n=this.note;this.axios.put("/notes/"+n._id,n,e).then((function(e){t.notes=t.notes.map((function(t){return t._id===n._id?n:t})),t.note={name:"",description:""},t.editing=!1,t.message.text="Note edited",t.message.color="success",t.showAlert()})).catch((function(e){var n=e.response;n.data.error.errors.name.message?t.message.text=n.data.error.errors.name.message:t.message.text="Error system",t.message.color="danger",t.showAlert(),console.error(n)}))},countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(){this.dismissCountDown=this.dismissSecs}}},c=a,d=n("2877"),m=Object(d["a"])(c,s,o,!1,null,null,null);e["default"]=m.exports},b0c0:function(t,e,n){var s=n("83ab"),o=n("9bf2").f,r=Function.prototype,i=r.toString,a=/^\s*function ([^ (]*)/,c="name";s&&!(c in r)&&o(r,c,{configurable:!0,get:function(){try{return i.call(this).match(a)[1]}catch(t){return""}}})},d81d:function(t,e,n){"use strict";var s=n("23e7"),o=n("b727").map,r=n("1dde"),i=n("ae40"),a=r("map"),c=i("map");s({target:"Array",proto:!0,forced:!a||!c},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=notes.9864cfbb.js.map